.class final Lsinet/startup/inDriver/ui/FloatingMenu$3;
.super Ljava/lang/Object;
.source "FloatingMenu.java"
.implements Landroid/view/View$OnTouchListener;

.field private initialX:I
.field private initialY:I
.field private initialTouchX:F
.field private initialTouchY:F

.method constructor <init>()V
    .registers 1
    invoke-direct {p0}, Ljava/lang/Object;-><init>()V
    return-void
.end method

.method public onTouch(Landroid/view/View;Landroid/view/MotionEvent;)Z
    .registers 7
    .param p1, "v"    # Landroid/view/View;
    .param p2, "event"    # Landroid/view/MotionEvent;

    invoke-virtual {p2}, Landroid/view/MotionEvent;->getAction()I
    move-result v0
    const/4 v1, 0x1

    packed-switch v0, :pswitch_data_1e

    :cond_default
    const/4 v1, 0x0
    return v1

    :pswitch_down
    invoke-static {}, Lsinet/startup/inDriver/ui/FloatingMenu;->access$getParams()Landroid/view/WindowManager$LayoutParams;
    move-result-object v2
    iget v2, v2, Landroid/view/WindowManager$LayoutParams;->x:I
    iput v2, p0, Lsinet/startup/inDriver/ui/FloatingMenu$3;->initialX:I
    
    invoke-static {}, Lsinet/startup/inDriver/ui/FloatingMenu;->access$getParams()Landroid/view/WindowManager$LayoutParams;
    move-result-object v2
    iget v2, v2, Landroid/view/WindowManager$LayoutParams;->y:I
    iput v2, p0, Lsinet/startup/inDriver/ui/FloatingMenu$3;->initialY:I
    
    invoke-virtual {p2}, Landroid/view/MotionEvent;->getRawX()F
    move-result v2
    iput v2, p0, Lsinet/startup/inDriver/ui/FloatingMenu$3;->initialTouchX:F
    
    invoke-virtual {p2}, Landroid/view/MotionEvent;->getRawY()F
    move-result v2
    iput v2, p0, Lsinet/startup/inDriver/ui/FloatingMenu$3;->initialTouchY:F
    
    # Cancel auto hide when touched
    invoke-static {}, Lsinet/startup/inDriver/ui/FloatingMenu;->cancelAutoHide()V
    
    return v1

    :pswitch_up
    # Schedule auto hide when released
    invoke-static {}, Lsinet/startup/inDriver/ui/FloatingMenu;->scheduleAutoHide()V
    return v1 # Consumed? Original returned 1? No, original had no UP. But we should consume to consistency.

    :pswitch_move
    invoke-static {}, Lsinet/startup/inDriver/ui/FloatingMenu;->access$getParams()Landroid/view/WindowManager$LayoutParams;
    move-result-object v2
    
    iget v3, p0, Lsinet/startup/inDriver/ui/FloatingMenu$3;->initialX:I
    invoke-virtual {p2}, Landroid/view/MotionEvent;->getRawX()F
    move-result v0
    iget v1, p0, Lsinet/startup/inDriver/ui/FloatingMenu$3;->initialTouchX:F
    sub-float/2addr v0, v1
    float-to-int v0, v0
    add-int/2addr v3, v0
    iput v3, v2, Landroid/view/WindowManager$LayoutParams;->x:I
    
    iget v3, p0, Lsinet/startup/inDriver/ui/FloatingMenu$3;->initialY:I
    invoke-virtual {p2}, Landroid/view/MotionEvent;->getRawY()F
    move-result v0
    iget v1, p0, Lsinet/startup/inDriver/ui/FloatingMenu$3;->initialTouchY:F
    sub-float/2addr v0, v1
    float-to-int v0, v0
    add-int/2addr v3, v0
    iput v3, v2, Landroid/view/WindowManager$LayoutParams;->y:I
    
    invoke-static {}, Lsinet/startup/inDriver/ui/FloatingMenu;->access$getWm()Landroid/view/WindowManager;
    move-result-object v0
    invoke-static {}, Lsinet/startup/inDriver/ui/FloatingMenu;->access$getRootView()Landroid/view/View;
    move-result-object v1
    invoke-static {}, Lsinet/startup/inDriver/ui/FloatingMenu;->access$getParams()Landroid/view/WindowManager$LayoutParams;
    move-result-object v2
    
    :try_start_update
    invoke-interface {v0, v1, v2}, Landroid/view/WindowManager;->updateViewLayout(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V
    :try_end_update
    .catch Ljava/lang/IllegalArgumentException; {:try_start_update .. :try_end_update} :catch_update_ignored

    :catch_update_ignored
    
    const/4 v1, 0x1
    return v1

    :pswitch_data_1e
    .packed-switch 0x0
        :pswitch_down
        :pswitch_up
        :pswitch_move
    .end packed-switch
.end method
