.class final Lsinet/startup/inDriver/ui/FloatingMenu$3;
.super Ljava/lang/Object;
.source "FloatingMenu.java"

# interfaces
.implements Landroid/view/View$OnTouchListener;

# instance fields
.field private initialX:I
.field private initialY:I
.field private initialTouchX:F
.field private initialTouchY:F

# direct methods
.method constructor <init>()V
    .registers 1
    invoke-direct {p0}, Ljava/lang/Object;-><init>()V
    return-void
.end method

# virtual methods
.method public onTouch(Landroid/view/View;Landroid/view/MotionEvent;)Z
    .registers 7
    .param p1, "v"    # Landroid/view/View;
    .param p2, "event"    # Landroid/view/MotionEvent;

    invoke-virtual {p2}, Landroid/view/MotionEvent;->getAction()I
    move-result v0
    
    const/4 v1, 0x1
    
    packed-switch v0, :pswitch_data_1e

    :cond_default
    const/4 v1, 0x0
    return v1

    :pswitch_down
    # ACTION_DOWN
    invoke-static {}, Lsinet/startup/inDriver/ui/FloatingMenu;->access$getParams()Landroid/view/WindowManager$LayoutParams;
    move-result-object v2
    iget v2, v2, Landroid/view/WindowManager$LayoutParams;->x:I
    iput v2, p0, Lsinet/startup/inDriver/ui/FloatingMenu$3;->initialX:I
    
    invoke-static {}, Lsinet/startup/inDriver/ui/FloatingMenu;->access$getParams()Landroid/view/WindowManager$LayoutParams;
    move-result-object v2
    iget v2, v2, Landroid/view/WindowManager$LayoutParams;->y:I
    iput v2, p0, Lsinet/startup/inDriver/ui/FloatingMenu$3;->initialY:I
    
    invoke-virtual {p2}, Landroid/view/MotionEvent;->getRawX()F
    move-result v2
    iput v2, p0, Lsinet/startup/inDriver/ui/FloatingMenu$3;->initialTouchX:F
    
    invoke-virtual {p2}, Landroid/view/MotionEvent;->getRawY()F
    move-result v2
    iput v2, p0, Lsinet/startup/inDriver/ui/FloatingMenu$3;->initialTouchY:F
    
    return v1 # Consumed

    :pswitch_move
    # ACTION_MOVE
    invoke-static {}, Lsinet/startup/inDriver/ui/FloatingMenu;->access$getParams()Landroid/view/WindowManager$LayoutParams;
    move-result-object v2
    
    # Calculate new x
    iget v3, p0, Lsinet/startup/inDriver/ui/FloatingMenu$3;->initialX:I
    invoke-virtual {p2}, Landroid/view/MotionEvent;->getRawX()F
    move-result v0
    iget v1, p0, Lsinet/startup/inDriver/ui/FloatingMenu$3;->initialTouchX:F
    sub-float/2addr v0, v1
    float-to-int v0, v0
    add-int/2addr v3, v0
    iput v3, v2, Landroid/view/WindowManager$LayoutParams;->x:I
    
    # Calculate new y
    iget v3, p0, Lsinet/startup/inDriver/ui/FloatingMenu$3;->initialY:I
    invoke-virtual {p2}, Landroid/view/MotionEvent;->getRawY()F
    move-result v0
    iget v1, p0, Lsinet/startup/inDriver/ui/FloatingMenu$3;->initialTouchY:F
    sub-float/2addr v0, v1
    float-to-int v0, v0
    add-int/2addr v3, v0
    iput v3, v2, Landroid/view/WindowManager$LayoutParams;->y:I
    
    # Update Layout
    invoke-static {}, Lsinet/startup/inDriver/ui/FloatingMenu;->access$getWm()Landroid/view/WindowManager;
    move-result-object v0
    invoke-static {}, Lsinet/startup/inDriver/ui/FloatingMenu;->access$getRootView()Landroid/view/View;
    move-result-object v1
    invoke-static {}, Lsinet/startup/inDriver/ui/FloatingMenu;->access$getParams()Landroid/view/WindowManager$LayoutParams;
    move-result-object v2
    invoke-interface {v0, v1, v2}, Landroid/view/WindowManager;->updateViewLayout(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V
    
    const/4 v1, 0x1
    return v1

    :pswitch_data_1e
    .packed-switch 0x0
        :pswitch_down
        :pswitch_default # UP
        :pswitch_move
    .end packed-switch
    
    :pswitch_default
    const/4 v1, 0x0
    return v1
.end method
